{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;AAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,gCAAgC,SAAS,SAAS,SAAS;AAC3D;AACA,uDAAuD,UAAU;AACjE,oEAAoE,WAAW;AAC/E;AACA;AACA;;AAEA;AACA;AACA;;AAEA,IAAI,+DAAW;AACf,wBAAwB;AACxB,4BAA4B,uBAAuB;AACnD;AACA,aAAa;AACb,SAAS;AACT;;AAEA,iEAAe,KAAK;;;;;;;;;;;;;;;;AC5C4B;AACA;;AAEhD;AACA,2DAA2D;;AAE3D;AACA;AACA;AACA;AACA;;AAEA,kCAAkC;AAClC;AACA;;AAEA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;;AAEA,YAAY,4DAAQ;AACpB,gCAAgC;AAChC;AACA;AACA,kCAAkC;AAClC;AACA,iBAAiB,gBAAgB;AACjC;AACA,iBAAiB,kBAAkB;AACnC;AACA,iBAAiB;AACjB,SAAS;AACT;;AAEA;AACA;AACA,0EAA0E;AAC1E,+CAA+C;AAC/C,QAAQ,iDAAS;;AAEjB,2DAA2D;AAC3D;AACA;AACA;AACA;AACA,gFAAgF;AAChF,gFAAgF,mBAAmB,QAAQ;AAC3G;AACA;;AAEA,8DAA8D;AAC9D;AACA,kCAAkC;AAClC;AACA,YAAY,kDAAU;AACtB,SAAS;AACT;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA,iEAAe,IAAI;;;;;;;;;;;;;;ACvEnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA,iEAAe,IAAI;;;;;;;;;;;;;;;;ACzBnB,kDAAkD;AAClD;;AAEA;AACA;AACA;AACA,iCAAiC;AACjC;;AAEA,qCAAqC;AACrC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D;;AAE1D,iCAAiC;AACjC;AACA,KAAK;;AAEL,6CAA6C;AAC7C;AACA;AACA;AACA,KAAK;;AAEL,kDAAkD;AAClD;AACA;AACA;AACA,KAAK;AACL;;AAEA,iEAAe,KAAK,EAAC;;;;;;;;;;;;;;;ACjDrB,iBAAiB,yDAAyD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iEAAe,MAAM;;;;;;;;;;;;;;;ACdrB;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB,0CAA0C,IAAI,YAAY,cAAc;AACxE;;AAEA;AACA;;;;;;;;UCrBA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;ACNY;AACZ,CAAmC;AACC;AACD;AACD;AACI;;AAEtC;AACA;;AAEA,IAAI,yDAAI;AACR,IAAI,0DAAK;AACT,IAAI,0DAAK;AACT,IAAI,yDAAI;AACR,IAAI,2DAAM;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC,E","sources":["webpack://robo-school/./src/js/modules/cards.js","webpack://robo-school/./src/js/modules/form.js","webpack://robo-school/./src/js/modules/menu.js","webpack://robo-school/./src/js/modules/modal.js","webpack://robo-school/./src/js/modules/slider.js","webpack://robo-school/./src/js/services/services.js","webpack://robo-school/webpack/bootstrap","webpack://robo-school/webpack/runtime/define property getters","webpack://robo-school/webpack/runtime/hasOwnProperty shorthand","webpack://robo-school/webpack/runtime/make namespace object","webpack://robo-school/./src/js/script.js"],"sourcesContent":["import { getResource } from \"../services/services\";\n\nfunction cards() {\n    class TrainerCard {\n        constructor(src, alt, name, major, parentSelector, ...classes) {\n            this.src = src;\n            this.alt = alt;\n            this.name = name;\n            this.major = major;\n            this.classes = classes;\n            this.parent = document.querySelector(parentSelector);\n        }\n\n        render() { // метод отрисовки по конструктору\n            const element = document.createElement('div');\n            if (!this.classes.length) {\n                this.element = 'trainers__slider-item';\n                element.classList.add(this.element);\n            } else {\n                this.classes.forEach(className => element.classList.add(className));\n            }\n\n            element.innerHTML +=\n                `\n                    <img src=\"${this.src}\" alt=\"${this.alt}\" class=\"trainers__slider-item__photo\">\n                    <div class=\"trainers__slider-item__info\">\n                        <h3 class=\"title title_item\">${this.name}</h3>\n                        <div class=\"trainers__slider-item__major\">${this.major}</div>\n                    </div>\n                    <button class=\"button button_link\">Подробнее</button>\n                `;\n\n            this.parent.append(element);\n        };\n    }\n\n    getResource('http://localhost:3000/trainers')\n        .then(data => { // отрисовка полученных данных\n            data.forEach(({ src, alt, name, major }) => {\n                new TrainerCard(src, alt, name, major, '.trainers__slider .trainers__slider-items').render();\n            });\n        });\n}\n\nexport default cards;","import { postData } from \"../services/services\";\nimport { openModal, closeModal } from \"./modal\";\n\nfunction form(formSelector, modalTimerId) {\n    const forms = document.querySelectorAll(formSelector); // родитель формы\n\n    const message = {\n        loading: 'icons/form/spinner.svg',\n        success: 'Спасибо, мы скоро с вами свяжемся',\n        failure: 'Что-то пошло не так...'\n    };\n\n    function bindPostData(form) { // функция отправки данных\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            const statusMessage = document.createElement('img'); // создаем спиннер загрузки/отправки данных\n            statusMessage.src = message.loading;\n            statusMessage.style.cssText =\n                `\n                    display: block;\n                    margin: 0 auto\n                `;\n            // устанавливаем тип\n            const formData = new FormData(form); // форма данных их атрибутов\n            const json = JSON.stringify(Object.fromEntries(formData.entries()));\n\n            postData('http://localhost:3000/requests' ,json)\n                .then(data => { // положительный ответ\n                    console.log(data);\n                    showStatusMessage(message.success);\n                    form.reset(); // очищаем форму\n                    statusMessage.remove();\n                }).catch(() => { // ошибка\n                    showStatusMessage(message.failure);\n                }).finally(() => { // финальное действие\n                    form.reset();\n                })\n        });\n    }\n\n    // функция отрисовки окна ответа пользователю после отправки данных\n    function showStatusMessage(message) {\n        const prevModalDialog = document.querySelector('.modal__dialog'); // обертка окна ответа\n        prevModalDialog.classList.add('hide'); // скрываем на этапе создания\n        openModal(formSelector, modalTimerId);\n\n        const thanksModal = document.createElement('div'); // внутренность окна ответа\n        thanksModal.classList.add('modal__dialog');\n        thanksModal.innerHTML =\n            `\n                                <div class=\"modal__content\">\n                                    <div class=\"modal__close\" data-close>&times;</div>\n                                    <div class=\"modal__title\" style=\"margin: 0; font-size: 30px\">${message}</div>\n                                </div>\n                                `;\n\n        document.querySelector('.modal').append(thanksModal); // отрисовка\n        setTimeout(() => {\n            thanksModal.remove(); // удаление ответа\n            prevModalDialog.classList.remove('hide');\n            closeModal('.modal');\n        }, 4000);\n    }\n\n    // отправка данных на сервер (на случай, если форм в будущем будет несколько используем forEach)\n    forms.forEach(item => {\n        bindPostData(item);\n    });\n}\n\nexport default form;","function menu() {\n    const\n        hamburger = document.querySelector('.hamburger'),\n        menu = document.querySelector('.nav__menu'),\n        menuLinks = document.querySelectorAll('.nav__menu-link');\n\n    hamburger.addEventListener('click', () => {\n        hamburger.classList.toggle('hamburger_active');\n        menu.classList.toggle('nav__menu_active');\n\n        if (menu.classList.contains('nav__menu_active')) {\n            document.body.style.overflow = 'hidden';\n        } else {\n            document.body.style.overflow = '';\n        }\n    });\n\n    menuLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            hamburger.classList.remove('hamburger_active');\n            menu.classList.remove('nav__menu_active');\n        });\n    });\n}\n\nexport default menu;","function openModal(modalSelector, modalTimerId) { // функция открытия модального окна\n    const modal = document.querySelector(modalSelector);\n\n    modal.classList.add('show');\n    modal.classList.remove('hide');\n    document.body.style.overflow = 'hidden';\n    clearInterval(modalTimerId); // останавливаем вызов по таймеру, если уже вызван другой способ\n}\n\nfunction closeModal(modalSelector) { // функция закрытия модального окна\n    const modal = document.querySelector(modalSelector);\n\n    modal.classList.add('hide');\n    modal.classList.remove('show');\n    document.body.style.overflow = '';\n}\n\nfunction modal(triggerSelector, modalSelector, modalTimerId) {\n    const\n        modal = document.querySelector(modalSelector),\n        modalButton = document.querySelectorAll(triggerSelector);\n\n    function showModalByScroll() { // открытие модального окна при скроле страницы до конца [scroll-end]\n        if (window.scrollY + document.documentElement.clientHeight >= document.documentElement.scrollHeight) {\n            openModal(modalSelector, modalTimerId);\n            window.scrollY -= 1;\n            window.removeEventListener('scroll', showModalByScroll);\n        }\n    }\n\n    window.addEventListener('scroll', showModalByScroll); // [scroll-end] \n\n    modalButton.forEach(btn => { // открытие по нажатию на кнопку\n        btn.addEventListener('click', () => openModal(modalSelector, modalTimerId));\n    });\n\n    modal.addEventListener('click', (e) => { // закрытие модального окна по нажатию на кнопку и пустую область\n        if (e.target === modal || e.target.getAttribute('data-close') == '') {\n            closeModal(modalSelector);\n        }\n    });\n\n    document.addEventListener('keydown', (e) => { // закрытие модального окна по нажатию на кнопки esc\n        if (e.code === 'Escape' && modal.classList.contains('show')) {\n            closeModal(modalSelector);\n        }\n    });\n}\n\nexport default modal;\nexport {openModal, closeModal};","function slider({container, slide, nextButton, prevButton, wrapper, field}) {\n    const \n        slider = document.querySelector(container),\n        slides = document.querySelectorAll(slide),\n        sliderWrapper = document.querySelector(wrapper),\n        sliderField = document.querySelector(field),\n        prev = document.querySelector(prevButton),\n        next = document.querySelector(nextButton);\n\n        sliderField.style.display = 'flex';\n        sliderField.style.columnGap = '40px';\n        sliderField.style.transition = '.5s all';\n}\n\nexport default slider;","// функция отправки запроса на сервер \nconst postData = async (url, data) => { \n    const res = await fetch(url, { // async/await - функция продолжит работу после выполнения данного блока\n        method: \"POST\",\n        headers: {\n            'Content-type': 'application/json'\n        },\n        body: data\n    });\n\n    return await res.json();\n};\n\n// функция получения данных с сервера\nconst getResource = async (url) => {\n    const result = await fetch(url);\n    if (!result.ok) { // ошибка получения данных\n        throw new Error(`Couldn't fetch ${url}, status: ${result.status}`);\n    }\n\n    return await result.json(); \n}\n\nexport {postData, getResource};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict'\nimport menu from \"./modules//menu\";\nimport modal from \"./modules/modal\";\nimport cards from \"./modules/cards\"\nimport form from \"./modules/form\";\nimport slider from \"./modules/slider\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const modalTimerId = setTimeout(() => openModal('.modal', modalTimerId), 30000);\n\n    menu();\n    modal('[data-modal]', '.modal', modalTimerId);\n    cards();\n    form('form', modalTimerId);\n    slider(\n        {\n            container: 'trainer__slider',\n            slides: 'trainers__slider-item',\n            sliderWrapper: '.trainers__slider-content',\n            sliderField: '.trainers__slider-items',\n            prevButton: '#prev',\n            nextButton: '#next'\n        }\n    );\n\n    fetch('http://localhost:3000/requests') // json-server\n        .then(data => data.json())\n        .then(res => console.log(res));\n});"],"names":[],"sourceRoot":""}